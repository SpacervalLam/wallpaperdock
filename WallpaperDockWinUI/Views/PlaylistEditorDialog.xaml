<ContentDialog
    x:Class="WallpaperDockWinUI.Views.PlaylistEditorDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WallpaperDockWinUI.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="播放列表编辑器"
    PrimaryButtonText="确定"
    SecondaryButtonText="取消"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick"
    SecondaryButtonClick="ContentDialog_SecondaryButtonClick">
    <StackPanel Spacing="16">
        <!-- 播放列表选择和管理 -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <ComboBox x:Name="PlaylistComboBox" Grid.Column="0" Margin="0,0,8,0" />
            <Button x:Name="NewPlaylistButton" Grid.Column="1" Content="新建" Click="NewPlaylistButton_Click" />
        </Grid>

        <!-- 播放列表内容 -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <TextBlock Grid.Row="0" Text="播放列表内容" Style="{StaticResource SubtitleTextBlockStyle}" Margin="0,0,0,8" />
            <ListView x:Name="PlaylistListView" Grid.Row="1" CanReorderItems="True" AllowDrop="True" ReorderMode="Enabled">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="{Binding Title}" VerticalAlignment="Center" />
                            <Button Grid.Column="1" Content="删除" Click="RemoveFromPlaylistButton_Click" Tag="{Binding}" />
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Grid>

        <!-- 定时策略设置 -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <TextBlock Grid.Row="0" Text="定时策略设置" Style="{StaticResource SubtitleTextBlockStyle}" Margin="0,0,0,8" />
            
            <!-- 切换间隔 -->
            <Grid Grid.Row="1" Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="切换间隔：" VerticalAlignment="Center" Margin="0,0,8,0" />
                <ComboBox x:Name="IntervalComboBox" Grid.Column="1">
                    <ComboBoxItem Content="5分钟" Tag="300" />
                    <ComboBoxItem Content="10分钟" Tag="600" />
                    <ComboBoxItem Content="15分钟" Tag="900" />
                    <ComboBoxItem Content="30分钟" Tag="1800" />
                    <ComboBoxItem Content="1小时" Tag="3600" />
                    <ComboBoxItem Content="2小时" Tag="7200" />
                    <ComboBoxItem Content="自定义" Tag="custom" />
                </ComboBox>
            </Grid>
            
            <!-- 自定义间隔输入 -->
            <Grid x:Name="CustomIntervalGrid" Grid.Row="2" Margin="0,0,0,8" Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="自定义间隔：" VerticalAlignment="Center" Margin="0,0,8,0" />
                <TextBox x:Name="CustomIntervalTextBox" Grid.Column="1" Margin="0,0,8,0" PlaceholderText="输入秒数" />
                <TextBlock Grid.Column="2" Text="秒" VerticalAlignment="Center" />
            </Grid>
            
            <!-- 播放顺序 -->
            <Grid Grid.Row="3" Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="播放顺序：" VerticalAlignment="Center" Margin="0,0,8,0" />
                <ComboBox x:Name="PlayOrderComboBox" Grid.Column="1">
                    <ComboBoxItem Content="顺序播放" Tag="Sequential" />
                    <ComboBoxItem Content="随机播放" Tag="Random" />
                </ComboBox>
            </Grid>
        </Grid>

        <!-- 控制按钮 -->
        <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right" Margin="0,8,0,0">
            <Button x:Name="StartPlaybackButton" Content="开始播放" Click="StartPlaybackButton_Click" />
            <Button x:Name="StopPlaybackButton" Content="停止播放" Click="StopPlaybackButton_Click" />
        </StackPanel>
    </StackPanel>
</ContentDialog>